<template>
  <require from="../../converters/ordinal-format"></require>
  <require from="../../converters/round-name-format"></require>

  <div class="container">
    <div class="table-container mdl-shadow--2dp" with.bind="_gameBoardManager.currentGame.playerManager">
      <table class="mdl-data-table mdl-js-data-table full-width">

        <thead>
        <!-- Player names -->
        <tr>
          <th class="mdl-data-table__cell--non-numeric">Name</th>
          <th repeat.for="player of players">${player.name}</th>
        </tr>
        </thead>

        <tbody>

        <!-- Score of each round -->
        <tr repeat.for="meta of _gameBoardManager.currentGame.metaManager.prevGames">
          <td class="mdl-data-table__cell--non-numeric">${meta | roundName}</td>
          <td repeat.for="player of players">${player.scoreboard.getScore(meta.name)}</td>
        </tr>

        <!-- Total score -->
        <tr>
          <td class="mdl-data-table__cell--non-numeric">Total score</td>
          <td repeat.for="player of players">${player.scoreboard.totalScore}</td>
        </tr>

        <!-- Rank -->
        <tr>
          <td class="mdl-data-table__cell--non-numeric">Rank</td>
          <td repeat.for="player of players">${player.rank | ordinalFormat}</td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</template>
